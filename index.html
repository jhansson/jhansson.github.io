<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Permissions-Policy" content="interest-cohort=()">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Jimmy Hansson - Technical Game Designer | Gameplay Programmer</title>
    <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
    <link href="css/simple-grid.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.2.0/animate.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">   
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Gabarito&family=Open+Sans&family=Lato&family=Caveat">
    <link href="css/main.css?poop=1" rel="stylesheet">
    <!-- <link rel="stylesheet" href="css/baguetteBox.min.css">-->
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  </head>
  <body>
  <!--<div class="background-thing"></div>-->
  <div class="container">
      <div class="row">
        <div class="col-12">
          <!-- TOP BOX START -->
          <div class="shadow-box">
            <div class="row">
              <div class="col-5 no-margin-col">
                <div class="faceshot"></div>
              </div>
              <div class="col-7">
                <div class="about-me">
                  <span class="hello-box">Hello!</span>
                  <h1 class="font-light">I'm <span class="font-heavy">Jimmy Hansson</span></h1>
                  <span class="subtitle" id="typewriter">Technical Game Designer | Gameplay Programmer | AI Designer &amp; Programmer | Avid Golfer</span>
                  <p>
                    I'm a technical game designer with an interest in developing games and systems
                    with user experience in focus. I'm currently working on Goat Simulator 3 @ Coffee Stain North.
                  </p>
                  <div>
                      <span class="chip">
                          <span class="chip__text">Unreal Engine</span>
                      </span>
                      <span class="chip">
                          <span class="chip__text">C++</span>
                      </span>
                      <span class="chip">
                          <span class="chip__text">Blueprint</span>
                      </span>
                      <span class="chip">
                          <span class="chip__text">Unity</span>
                      </span>
                      <span class="chip">
                          <span class="chip__text">C#</span>
                      </span>                      
                  </div>
                  <div style="margin-top: 20px; display: flex;">
                    <span class="bbutton">                      
                      <span id="obf">
                        <script>document.getElementById("obf").innerHTML="<n uers=\"znvygb:wunaffba@tznvy.pbz\" gnetrg=\"_oynax\">Pbagnpg Zr.</n>".replace(/[a-zA-Z]/g,function(c){return String.fromCharCode((c<="Z"?90:122)>=(c=c.charCodeAt(0)+13)?c:c-26);});</script>
                        <noscript><span style="unicode-bidi:bidi-override;direction:rtl;">moc.liamg@nossnahj</span></noscript>
                      </span>
                    </span>
                    <span class="bbutton linkedinbutton">                      
                      <a href="http://www.linkedin.com/in/jimmy-s-hansson">LinkedIn Profile.</a>
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- TOP BOX END -->          
        </div>
      </div>
      <h2 class="projects-header">My Work<span class="colored">.</span></h2>
          <!-- PROJECTS START -->
          <div class="row">

            <!-- Goat Simulator 3 -->
            <div class="col-4">
              <div class="demo-card-wide mdl-card mdl-shadow--2dp">
                <div class="mdl-card__title">
                  <h2 class="mdl-card__title-text">Goat Simulator 3</h2>
                </div>
                <div class="mdl-card__supporting-text">
                  <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
                    <div class="mdl-tabs__tab-bar">
                      <a href="#video-panel" class="mdl-tabs__tab is-active">Video</a>
                      <a href="#desc-panel" class="mdl-tabs__tab">What I do</a>
                    </div>                          
                    <div class="mdl-tabs__panel is-active" id="video-panel">
                      <video autoplay muted loop width="680" height="300">
                        <source src="video/goat.webm" type="video/webm" />
                      </video>                    </div>
                    <div class="mdl-tabs__panel" id="desc-panel">
                      <h3>Technical Game Designer</h3>
                      <p>
                          I am a Technical Game Designer at Coffee Stain North, actively involved in the continous development of Goat
                          Simulator 3. 
                      </p>
                      <h4>Some of the things I do at work: </h4>
                      <ul>
                        <li>Brainstorm new ideas</li>
                        <li>Prototype events, gears and interactables</li>
                        <li>Take prototypes to final versions</li>
                        <li>Play table tennis</li>
                        <li>Fix some bugs, leave som for goatyness</li>
                      </ul>
                      <h4>Special areas of responsibility include:</h4>
                      <ul>
                        <li>Setup for new playable characters</li>
                        <li>Physics Assets for Characters and Gears</li>
                        <li>Tools development for designers</li>
                      </ul>                     
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-4">
              <div class="demo-card-wide mdl-card mdl-shadow--2dp">
                <div class="mdl-card__title">
                  <h2 class="mdl-card__title-text">Utility AI</h2>
                </div>
                <div class="mdl-card__supporting-text">
                  <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
                    <div class="mdl-tabs__tab-bar">
                      <a href="#video-panel" class="mdl-tabs__tab is-active">Video</a>
                      <a href="#desc-panel" class="mdl-tabs__tab">Description</a>
                    </div>                          
                    <div class="mdl-tabs__panel is-active" id="video-panel">
                      <video autoplay muted loop width="680" height="300">
                        <source src="video/utility.webm" type="video/webm" />
                      </video>                        </div>
                    <div class="mdl-tabs__panel" id="desc-panel">
                      <h3>Utility AI extension</h3>
                      <p>
                          An extension to Unreal Engine's Behavior Tree that adds Utility Selector and Action Nodes with considerations.
                      </p>
                      <p>
                          I wanted a more reactive and flexible AI so I created a system where the AI can select an action (task) based
                          on how useful it is in the current moment. Utility AI is well suited for this as each action has considerations
                          attached to it that returns a score based on the current world status. 
                      </p>                      
                      <p>
                        By extending the Behavior Tree we can still use the strengths of behavior trees for certain situations where we
                        need a more controlled behavior. In my system each action takes advantage of the new powerful StateTree asset and 
                        has all its behavior contained in the StateTree. 
                      </p>
                      <p>
                        All navigation for the agent is handled in its own seperate StateTree and lives outside the Behavior Tree. This allows actions
                        to be layered on top of movement if needed. An example would be a "Fire weapon" action that can let the agent keep moving towards the target
                        set by an earlier action. An action can send a "stop" event to the movement StateTree to make the player pause movement or set it's own
                        movement location.
                      </p>
                      <p>
                        Since all actions are state trees, they can gracefully handle interruption on their Exit States. When the utility system finds
                        a higher scoring action, it can tell the current running action's StateTree to abort. When the state tree has handled its exit states, 
                        the utility selector choose the new action.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Echo start -->
            <div class="col-4">
              <div class="demo-card-wide mdl-card mdl-shadow--2dp">
                <div class="mdl-card__title">
                  <h2 class="mdl-card__title-text">Movement and Interaction</h2>
                </div>
                <div class="mdl-card__supporting-text">
                  <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
                    <div class="mdl-tabs__tab-bar">
                      <a href="#video-panel" class="mdl-tabs__tab is-active">Video</a>
                      <a href="#desc-panel" class="mdl-tabs__tab">Description &amp; Code</a>
                    </div>                          
                    <div class="mdl-tabs__panel is-active" id="video-panel">
                      <video autoplay muted loop width="680" height="300">
                        <source src="video/echo.webm" type="video/webm" />
                      </video>                        </div>
                    <div class="mdl-tabs__panel" id="desc-panel">
                      <h3>What it is</h3>
                      <p>
                          A game called Echo which focused on environmental storytelling made in Unreal Engine 4.
                      </p>
                      <h3>What I did</h3>
                      <p>
                        I was mainly responsible for the character movement and interactions. 
                        The movement is a custom made physics based system that allows for more realistic
                        and predictable interactions with the environment than with the default Unreal character.
                      </p>
                      <p>
                        The goal for interacting with objects was to get a fairly realistic movement where it look 
                        and feel like you as a player are dragging around a physical object.
                      </p>
                      <p>
                        Physics constraints are used to attach the object to the player and IK is then used on the 
                        hands and arms to position them on the object's surface. Raycasting is used to get locations.
                      </p>  
                      <p>Part of Blueprint code to grab an object:</p>
                      <div class="gallery">
                        <a href="images/grabbing01.png" data-caption="Part of Blueprint for grabbing objects">
                          <img src="images/grabbing01.png" class="blueprint-image" alt="Part of Blueprint for grabbing objects"/>
                        </a>
                      </div>
                      <p>Blueprint for IK on arms when grabbing an object:</p>
                      <div class="gallery">
                        <a href="images/grabbing02ik.png" data-caption="Blueprint for IK on character arms">
                          <img src="images/grabbing02ik.png" class="blueprint-image" alt="Blueprint for IK on character arms"/>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Echo end -->
            
            
          </div>
          <div class="row">
             <!-- START Moving to S
            <div class="col-12">
              <div class="demo-card-wide mdl-card mdl-shadow--2dp">
                <div class="mdl-card__title">
                  <h2 class="mdl-card__title-text">Moving to Sweden (unreleased)</h2>
                </div>
                <div class="mdl-card__supporting-text">
                  <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
                    <div class="mdl-tabs__tab-bar">
                      <a href="#video-panel" class="mdl-tabs__tab is-active">Video</a>
                      <a href="#desc-panel" class="mdl-tabs__tab">Description</a>
                    </div>                          
                    <div class="mdl-tabs__panel is-active" id="video-panel">
                      <iframe width="660" height="300" src="https://www.youtube.com/embed/nRS-iI4quSE?rel=0&amp;showinfo=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                    </div>
                    <div class="mdl-tabs__panel" id="desc-panel">
                        <h3>What it is</h3>
                        <p>
                            Moving to Sweden is a game I worked on before I joined Coffee Stain North. The year is 1988 and you move to a small run down village in the Swedish countryside. It's a lighthearted game about starting over, making a home and bringing hope.
                        </p>
                        <h3>What I did</h3>
                        <p>
                          Pre production: Game Design Document that describes story, gameplay, 
                          player character, game world, game experience, game mechanics,  
                          art style, music, sound and target audience with personas.
                        </p>
                        <p>
                          The game is made in Unreal Engine 4 and features several custom made systems made mainly in Blueprint, but also some in C++. 
                          Some of the systems: 
                          * Interactions
                          * Smart placement of objects when decorating
                          * Inventory
                          * Customizing (wallpapers, painting)
                          * Building (mount windows, install things into slots etc)
                          * Cleaning 
                          Many of the systems enables the player to be a handyman, like the above systems. But there are also other general systems like weather, calendar, events, shops and dialogues that helps the world come alive.
                        
                        </p>
                      <p>
                        It was a fun game to work on and I learned a lot. Maybe I'll come back and finish it sometime in the future. Who knows!
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
             Moving end end -->
            
            
          </div>

          <h2 class="projects-header">Other projects<span class="colored">.</span></h2>
          <div class="row">
            
            <div class="col-4">
              <div class="demo-card-wide mdl-card mdl-shadow--2dp">
                <div class="mdl-card__title">
                  <h2 class="mdl-card__title-text">Nimble Hands</h2>
                </div>
                <div class="mdl-card__supporting-text">
                  <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
                    <div class="mdl-tabs__tab-bar">
                      <a href="#video-panel" class="mdl-tabs__tab is-active">Video</a>
                      <a href="#desc-panel" class="mdl-tabs__tab">Description</a>
                    </div>                          
                    <div class="mdl-tabs__panel is-active" id="video-panel">
                      <video autoplay muted loop width="680" height="300">
                        <source src="video/nimble.webm" type="video/webm" />
                      </video>                        </div>
                    <div class="mdl-tabs__panel" id="desc-panel">
                        <h3>What it is</h3>
                        <p>
                            Nimble Hands is a game where you as a thief has to navigate tight spaces with your ever growing physics based sack of loot.
                        </p>
                        <h3>What I did</h3>
                        <p>
                          A ten page Game Design Document that describes story, gameplay, unique mechanics, 
                          player character, game world, game experience, game mechanics, enemies and challenges,  
                          level design, art style, music, sound, target audience and monitization.
                        </p>
                        <p>
                          I also created the prototypes in the video to showcase the fun factor with a physics based sack. 
                          The first prototype was made in Unreal Engine and the more finished version was made in Unity.
                        </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- START ENEMY AI WITH GOAP -->
              <div class="col-4">
                  <div class="demo-card-wide mdl-card mdl-shadow--2dp">
                    <div class="mdl-card__title">
                      <h2 class="mdl-card__title-text">Enemy AI with GOAP</h2>
                    </div>
                    <div class="mdl-card__supporting-text">
                      <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
                        <div class="mdl-tabs__tab-bar">
                          <a href="#video-panel" class="mdl-tabs__tab is-active">Video</a>
                          <a href="#desc-panel" class="mdl-tabs__tab">Description &amp; Code</a>
                        </div>                          
                        <div class="mdl-tabs__panel is-active" id="video-panel">
                          <video autoplay muted loop width="680" height="300">
                            <source src="video/goap.webm" type="video/webm" />
                          </video>                            </div>
                        <div class="mdl-tabs__panel" id="desc-panel">
                            <h3>What it is</h3>
                            <p>
                              FPS arena shooter with AI made with Goal Oriented Action Planning.
                              10 day project made in Unity and C#.
                            </p>
                            <h3>What I did</h3>
                            <p>
                              Created a FPS controller and a procedural generated map for fast paced action.
                              The AI is made with ReGoap and inspired by the AI in Fear.
                            </p>
                            <p><strong>Example code to look for cover positions to add to memory of agent:</strong></p>
                            <div class="accordionItem close">
                                <h2 class="accordionItemHeading">Show/Hide Code</h2>
                                <div class="accordionItemContent">
                                    <div class="snipped-code">
                                        <pre>
                                          <code class="language-csharp">
...
// Sensor for remembering reachable cover positions
// Find "edges" in navmesh and see if they can cover you in the player direction
if (NavMesh.FindClosestEdge(transform.position, out defensiveEdgeHit, NavMesh.AllAreas))
{
    for (int i = 0; i < numCoverPositions; i++)
    {
        RaycastHit hit;
        Vector2 randomPosCircle = (Random.insideUnitCircle * searchArea);
        Vector3 randomPos = new Vector3(randomPosCircle.x, groundLevel, randomPosCircle.y);
        NavMeshHit navHit;

        if (NavMesh.SamplePosition(defensiveEdgeHit.position + (-directionToPlayer) + randomPos, out navHit, searchRadius, NavMesh.AllAreas))
        {
            var direction = pc.transform.position - navHit.position / heading.magnitude;

            if (Physics.Raycast(navHit.position + new Vector3(0, 0.5f, 0), direction, out hit, 40f))
            {
                // Only ArenaBlocks can be between player and AI
                if (hit.collider.CompareTag("ArenaBlock"))
                {
                    memory.GetWorldState().Set(SENSOR_TYPE.DEFENSIVE_COVER_POSITION, defensiveCoverPosition);
                    break;
                }
            }
        }
    }
}
...
                                          </code>
                                        </pre>
                                      </div>
                                </div>
                              </div>
                              <p><strong>Example code for go to cover action:</strong></p>
                              <div class="accordionItem close">
                                  <h2 class="accordionItemHeading">Show/Hide Code</h2>
                                  <div class="accordionItemContent">
                                      <div class="snipped-code">
                                          <pre>
                                            <code class="language-csharp">
...
protected override void Awake()
{
  ...
  // Set required preconditions and effects if succesful action
  preconditions.Set(SENSOR_TYPE.LAST_POSITION_KNOWN, true);
  preconditions.Set(SENSOR_TYPE.CAN_NOT_SEE_TARGET, true);
  preconditions.Set(SENSOR_TYPE.NOT_CLOSE_LAST_SEEN_POSITION, true);
  effects.Set(SENSOR_TYPE.IS_IN_COVER, true);
  effects.Set(SENSOR_TYPE.TARGET_IS_NOT_AIMING_AT_ME, true);
}
...
public void Update(...)
{
  // LAST_SEEN_POSITION has been updated while moving to cover: exit out this action
  if (lastTargetLocation != (Vector3)agent.GetMemory().GetWorldState().Get(SENSOR_TYPE.LAST_SEEN_POSITION))
  {
      failCallback(this);
  }

  // Has a cover position to move to
  if (coverPos != Vector3.zero)
  {
      // Cover has been reached
      if (Vector3.Distance(transform.position, coverPos) < maxDistanceInCover)
      {
          agent.GetMemory().GetWorldState().Set(SENSOR_TYPE.MOVING_TOWARDS_COVER, false);
          agent.GetMemory().GetWorldState().Set(SENSOR_TYPE.IS_IN_COVER, true);

          ...
          
          // Been in cover long enough
          if (coverTimerStarted && Time.time > timeToCover)
          {
              agent.GetMemory().GetWorldState().Set(SENSOR_TYPE.IS_IN_COVER, false);
              coverTimerStarted = false;
              doneCallback(this);
          }                

          // Exit cover if target is aiming at me
          if (coverTimerStarted && (bool)agent.GetMemory().GetWorldState().Get(SENSOR_TYPE.TARGET_IS_AIMING_AT_ME))
          {
              failCallback(this);
          }
      }
  }
  ...
}
...
                                            </code>
                                          </pre>
                                        </div>
                                  </div>
                                </div>
                          <h3>What I learned</h3>
                          <p>I really enjoyed working with GOAP. It gives a flexibility to the AI which is 
                            harder to reach with Behaviour Trees or State Machines.</p>
                            <p>
                              The main downside with GOAP is probably the performance issues with a planner.
                              The question is how important it really is to plan many steps ahead for an AI.
                              A well designed Utility AI could probably create similar results but without
                              the Planner overhead.
                            </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- END GOAP  -->
                <!-- START ML GOLFER -->
                <div class="col-4">
                  <div class="demo-card-wide mdl-card mdl-shadow--2dp">
                    <div class="mdl-card__title">
                      <h2 class="mdl-card__title-text">Machine Learning: Golf</h2>
                    </div>
                    <div class="mdl-card__supporting-text">
                      <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
                        <div class="mdl-tabs__tab-bar">
                          <a href="#video-panel" class="mdl-tabs__tab is-active">Video</a>
                          <a href="#desc-panel" class="mdl-tabs__tab">Description &amp; Code</a>
                        </div>                          
                        <div class="mdl-tabs__panel is-active" id="video-panel">
                          <video autoplay muted loop width="680" height="300">
                            <source src="video/mlgolf.webm" type="video/webm" />
                          </video>
                        </div>
                        <div class="mdl-tabs__panel" id="desc-panel">
                            <h3>What it is</h3>
                            <p>
                              AI that has learned to play simple golf by using Machine Learning. Result is from around 30 minutes of training only.
                            </p>
                            <h3>What I did</h3>
                            <p>
                              I used Unity and ml-agents to train the AI. I made a training environment that used
                              curriculum training to teach the AI in steps. First it had the green (goal) close by
                              in the same position making it easy to accidentally hit it. When the AI had high enough success rate, the next stage started
                              where the green was randomized in position. This way it could realize that it was
                              not the world position that was important, but the actual position of the green in the world.
                            </p>
                            <p>After several different lessons that gradually made things harder and introduced more challenges,
                              the AI could play randomly generated maps with high success rate even when I added randomness in 
                              how clean the ball was hit.
                            </p>

                          <p><strong>Code for the AI observations:</strong></p>
                          <div class="accordionItem close">
                              <h2 class="accordionItemHeading">Show/Hide Code</h2>
                              <div class="accordionItemContent">
                                  <div class="snipped-code">
                                      <pre>
                                        <code class="language-csharp">
public override void CollectObservations()
{
    float rayDistance = 5f;
    float[] rayAngles = { 0f, 45f, 90f, 135f, 180f, 225f, 270f, 315f };
    float[] rayAnglesOffset = { 0f + 22.5f, 45f + 22.5f, 90f + 22.5f, 135f + 22.5f, 180f + 22.5f, 225f + 22.5f, 270f + 22.5f, 315f + 22.5f };
    string[] detectableObjects;
    detectableObjects = new string[] { "ground", "goal", "fairway" };

    // Raytracing environment in different angles
    AddVectorObs(rayGridPer.Perceive(1f, rayAngles, detectableObjects, 0f, 7f));
    AddVectorObs(rayGridPer.Perceive(2f, rayAnglesOffset, detectableObjects, 0f, 7f));
    AddVectorObs(rayGridPer.Perceive(3f, rayAngles, detectableObjects, 0f, 7f));
    AddVectorObs(rayGridPer.Perceive(6f, rayAnglesOffset, detectableObjects, 0f, 7f));
    AddVectorObs(rayGridPer.Perceive(10f, rayAngles, detectableObjects, 0f, 7f));

    // Observe relations in distance between different objects
    AddVectorObs(target.transform.position - goal.transform.position);
    AddVectorObs(goal.transform.position - area.transform.position);
    AddVectorObs(Vector3.Distance(target.transform.position, goal.transform.position));
    AddVectorObs(maxTargetDistance - targetDistance);

    AddVectorObs(shotCount);
    AddVectorObs(decisionCounter);

    // Observe if the predicted trajectory hits something
    aimingAtObstacle = 0f;
    for (int i = 0; i < launchArcRenderer.lr.positionCount; i++)
    {
        float hitSomething = 0.0f;
        Collider[] hits = Physics.OverlapSphere(launchArcRenderer.lr.GetPosition(i), 0.3f);
        if (hits.Length > 0)
        {
            if (hits[0].CompareTag("obstacle"))
            {
                hitSomething = 1.0f;
                aimingAtObstacle = 1.0f;
            }                
        }
        AddVectorObs(hitSomething);
    }

    AddVectorObs(aimingAtObstacle);
}
                                        </code>
                                      </pre>
                                    </div>
                              </div>
                            </div>
                            <h3>What I learned</h3>
                            <p>It's easy for the AI to come to the wrong conclusions about what the different observations actually means.
                              A lot of trial and error was needed to find a balance between the observations. It's easy to "overload" the AI.
                            </p>
                              <p>
                                Curriculum learning where the AI goes through serveral lessons that gets gradually harder is very effective 
                                to reach the end goal in much less time than without it if the challenge is fairly hard.
                              </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
          <!-- END ML GOLF -->
          
          <div class="row">
            
          <!-- START GAMEPLAY SCRIPTER IN THROW MOTION -->
          <div class="col-4">
              <div class="demo-card-wide mdl-card mdl-shadow--2dp">
                <div class="mdl-card__title">
                  <h2 class="mdl-card__title-text">Climbing System</h2>
                </div>
                <div class="mdl-card__supporting-text">
                  <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
                    <div class="mdl-tabs__tab-bar">
                      <a href="#video-panel" class="mdl-tabs__tab is-active">Video</a>
                      <a href="#desc-panel" class="mdl-tabs__tab">Description &amp; Code</a>
                    </div>                          
                    <div class="mdl-tabs__panel is-active" id="video-panel">
                      <video autoplay muted loop width="680" height="300">
                        <source src="video/climber.webm" type="video/webm" />
                      </video>                        </div>
                    <div class="mdl-tabs__panel" id="desc-panel">
                      <h3>What it is</h3>
                      <p>
                        Inspired by games like Shadow of the Colossus and The Legend of Zelda: Breath of the Wild
                        I've created a Blueprint based climbing system in Unreal Engine 4. Being able to climb freely
                        gives the player a lot of interesting ways to explore the world.
                    </p>
                    <h3>What I did</h3>
                    <p>
                      A system that lets the player climb freely on any surface in the world. The surfaces can 
                      be static or moving. The climbing is activated when moving into a climbable object within a certain
                      angle threshold between the climbable normal and the way the player looks. Raycasting is then used to 
                      check if it's possible to climb in the input direction. If possible, a helper will be created at the 
                      local position of the raycast hit in the object being climbed upon. This way when we lerp to this position,
                      it doesn't matter if the object moves, we always have the local position stored.
                    </p>    
                    <p><strong>Main blueprint in climbing component:</strong></p>
                    <div class="accordionItem close">
                      <h2 class="accordionItemHeading">Show/Hide Code</h2>
                      <div class="accordionItemContent">
                          <iframe src="https://blueprintue.com/render/fsalmp60" height="500" scrolling="no"></iframe>
                      </div>
                    </div>
                    <h3>What I learned</h3>                        
                    <p>
                      Creating more advanced features in Blueprint is not easy and clearly not what it is designed for.
                      Many of the complicated blueprints could have been written in a few lines of C#.
                    </p>
                    <p>
                      I have gained a lot of knowledge of Blueprint and can appreciate the power of visual scripting.
                    </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          <!-- START FREE CLIMB SYSTEM -->
          <div class="col-4">
            <div class="demo-card-wide mdl-card mdl-shadow--2dp">
              <div class="mdl-card__title">
                <h2 class="mdl-card__title-text">Inventory System</h2>
              </div>
              <div class="mdl-card__supporting-text">
                <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
                  <div class="mdl-tabs__tab-bar">
                    <a href="#video-panel" class="mdl-tabs__tab is-active">Video</a>
                    <a href="#desc-panel" class="mdl-tabs__tab">Description &amp; Code</a>
                  </div>                          
                  <div class="mdl-tabs__panel is-active" id="video-panel">
                    <video autoplay muted loop width="680" height="300">
                      <source src="video/inventory.webm" type="video/webm" />
                    </video>                          </div>
                  <div class="mdl-tabs__panel" id="desc-panel">
                      <h3>What it is</h3> 
                      <p>
                        Standard type of equipment and inventory system created in Unreal Engine 4 with Blueprints. 
                      </p>
                  
                    <h3>What I did</h3>                      
                      <p>
                        A GUI to navigate and use items and an inventory component that handles the actual inventory. 
                        The inventory has categories and different ruleset for each category. Some items can stack while some are unique.
                        You can use, drop, equip and unequip items depending on what type of item it is.
                      </p>                         
                    
                      <p><strong>Part of blueprint to add items to inventory:</strong></p>
                      <div class="gallery">
                          <a href="images/inventoryadd.png" data-caption="Part of blueprint to add items to inventory">
                            <img src="images/inventoryadd.png" class="blueprint-image" alt="Part of blueprint to add items to inventory"/>
                          </a>
                        </div>

                  </div>
                </div>
              </div>
            </div>
          </div>

              <div class="col-4">
                  <div class="demo-card-wide mdl-card mdl-shadow--2dp">
                    <div class="mdl-card__title">
                      <h2 class="mdl-card__title-text">Gameplay Scripting</h2>
                    </div>
                    <div class="mdl-card__supporting-text">
                      <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
                        <div class="mdl-tabs__tab-bar">
                          <a href="#video-panel" class="mdl-tabs__tab is-active">Video</a>
                          <a href="#desc-panel" class="mdl-tabs__tab">Description</a>
                        </div>                          
                        <div class="mdl-tabs__panel is-active" id="video-panel">
                          <video autoplay muted loop width="680" height="300">
                            <source src="video/throw.webm" type="video/webm" />
                          </video>                            </div>
                        <div class="mdl-tabs__panel" id="desc-panel">
                            <h3>What it is</h3> 
                          <p>
                            It was developed in four weeks by a team of game designers and 3d artists. 
                            It's a 1-4 player party game where the two sports of dodgeball and figure skating has been mashed together.
                          </p>
                      
                        <h3>What I did</h3>                      
                          <p>
                            I was mainly responsible for the character movement, game rules and camera functionalities.
                          </p>
                          <p>
                              The aim for the movement was to find a good balance between sliding on the ice but still
                              have responsive controls. Character movement is based on the Unreal character movement with 
                              modifications to make it feel like you're sliding around on ice.
                          </p>
                          <p>
                            For the camera I set up blueprint to make the camera zoom in and out depending on where the 
                            players are, making sure they are all in frame of the camera. This way the camera gets closer
                            to the action when all players are close to each other.
                          </p>   
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

            <!-- START EQUIPMENT AND INVENTORY SYSTEM -->
            
          </div>
          <!-- PROJECTS END -->
    </div>
    <footer>
      <!--
        <a class="linkedin" href="http://www.linkedin.com/in/jimmy-s-hansson">
          <img src="icons/linkedin.png" alt="My LinkedIn account" />
        </a>-->
    </footer>
      <!--
    <script type="text/javascript" src="js/vidim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/8.6.0/lazyload.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="js/animatedModal.min.js"></script>
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script src="js/prism.js"></script>
    <script src="js/baguetteBox.min.js"></script>
      -->
    <script>
      /*
        new LazyLoad();
        $("#echo-link").animatedModal({modalTarget:'echomodal', animationDuration: '.4s', color:'#000'});
        $("#climbing-link").animatedModal({modalTarget:'climbingmodal', animationDuration: '.4s', color:'#fff'});
        $("#throwmotion-link").animatedModal({modalTarget:'throwmotionmodal', animationDuration: '.4s', color:'#c9cfdb'});

        var demo2 = new vidim( '#hero', {
          src: 'https://youtu.be/NMUr2yNALhU',
          type: 'YouTube',
          poster: 'https://s3-eu-west-1.amazonaws.com/originalexe/vidim/videos/Symmetric-Traffic.jpg'
        });
        
        baguetteBox.run('.gallery', {});
*/
        // Accordion for code
        var accItem = document.getElementsByClassName('accordionItem');
        var accHD = document.getElementsByClassName('accordionItemHeading');
        for (i = 0; i < accHD.length; i++) {
            accHD[i].addEventListener('click', toggleItem, false);
        }
        function toggleItem() {
            var itemClass = this.parentNode.className;
            for (i = 0; i < accItem.length; i++) {
                accItem[i].className = 'accordionItem close';
            }
            if (itemClass == 'accordionItem close') {
                this.parentNode.className = 'accordionItem open';
            }
        }

      // Function to simulate the typewriter effect
      const element = document.getElementById("typewriter");
const initialText = element.textContent;
const titles = initialText.split("|").map(title => title.trim());
let currentTitleIndex = 0;
let isTyping = true;
let currentIndex = 0;
let currentTitle = titles[currentTitleIndex]; // Declare currentTitle here

function typeWriterEffect() {
  if (isTyping) {
    if (currentIndex < currentTitle.length) {
      element.textContent += currentTitle.charAt(currentIndex);
      currentIndex++;
      setTimeout(typeWriterEffect, 100); // Adjust typing speed here
    } else {
      isTyping = false;
      setTimeout(eraseText, 1000); // Wait for 1 second before erasing
    }
  } else {
    if (currentIndex > 0) {
      element.textContent = currentTitle.substring(0, currentIndex - 1);
      currentIndex--;
      setTimeout(eraseText, 50); // Adjust erasing speed here
    } else {
      isTyping = true;
      currentTitleIndex = (currentTitleIndex + 1) % titles.length;
      currentTitle = titles[currentTitleIndex]; // Update currentTitle
      setTimeout(typeWriterEffect, 1000); // Wait for 1 second before typing the next title
    }
  }
}

function eraseText() {
  if (currentIndex > 0) {
    element.textContent = currentTitle.substring(0, currentIndex - 1);
    currentIndex--;
    setTimeout(eraseText, 50); // Adjust erasing speed here
  } else {
    isTyping = true;
    currentTitleIndex = (currentTitleIndex + 1) % titles.length;
    currentTitle = titles[currentTitleIndex]; // Update currentTitle
    setTimeout(typeWriterEffect, 1000); // Wait for 1 second before typing the next title
  }
}

// Clear the initial text
element.textContent = "";

// Start the typewriter effect
typeWriterEffect();
    </script>
  </body>
</html>
